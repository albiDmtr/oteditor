import{s as me,e as y,a as T,x as se,k as a,i as F,l as oe,d as g,a0 as ke,a1 as we,a2 as Be,I as le,q as U,z as ae,b as S,J as re,w as R,A as ie,y as p,C as L,E as Te,r as he,m as Oe,o as He,L as ye,D as ze,p as ce,G as Ae,a3 as qt,a4 as At,n as Ce,a5 as tt,v as Jt,Z as ut}from"../chunks/scheduler.BNZeKrfj.js";import{S as pe,i as ge,c as X,b as Q,m as $,t as W,a as Y,d as x,g as Ze,e as Ge,f as ct}from"../chunks/index.D5VrrNi7.js";import{E as nt,F as Ut,l as ot,G as fe,H as Bt,m as Rt,I as zt,J as pt,K as Pt,L as je,M as Zt,N as Ue,O as Gt,P as Ft,Q as gt,n as et,R as Wt,e as Kt,b as vt,S as _t,c as Yt,T as kt,_ as wt,U as bt,C as Xt,V as Qt,y as $t,w as xt}from"../chunks/stores.B04GNUkc.js";import{w as at,g as De}from"../chunks/entry.DCR3iCnf.js";import{S as en,u as tn,a as nn,b as sn,c as ln,d as rn,T as on,N as an,D as un,J as cn}from"../chunks/TopBar.Di-kv4dv.js";import{e as _e,u as fn,o as dn}from"../chunks/each.te9pOleI.js";import{P as mn}from"../chunks/Portal.CJf0dC4Y.js";import{S as hn}from"../chunks/Sidebar.DL3x2y55.js";import{B as Re}from"../chunks/Button.D-NdZsbg.js";import{D as pn}from"../chunks/DialogBox.cebySumd.js";const gn=({params:s})=>({componentId:s.componentId}),zs=Object.freeze(Object.defineProperty({__proto__:null,load:gn},Symbol.toStringTag,{value:"Module"})),vn=()=>{const s={},{subscribe:e,set:t,update:n}=at(s);return{listen:(r,l)=>{e(o=>{o[r]&&l(o[r])})},dispatch:(r,l)=>{n(o=>(o[r]=l,o))},clear:()=>t({})}},Fe=vn();function _n(s){let e,t='<h1 class="svelte-121xi2">Component is Empty</h1> <p class="svelte-121xi2">Drag and Drop Elements from Sidebar.</p>';return{c(){e=y("div"),e.innerHTML=t,this.h()},l(n){e=T(n,"DIV",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-y2g72x"&&(e.innerHTML=t),this.h()},h(){a(e,"class","node-cont")},m(n,r){F(n,e,r)},p:oe,i:oe,o:oe,d(n){n&&g(e)}}}function kn(s,e,t){const n=[];return ke(e,n),s.$$set=r=>{e=we(we({},e),Be(r)),t(0,ke(e,n))},[]}class wn extends pe{constructor(e){super(),ge(this,e,kn,_n,me,{})}}function bn(s){let e,t,n,r,l,o,i,f=s[3]?`(${s[3]})`:"",c,h,v,b=":",N,d,k,_,m,w,M,H,J,Z,z,D,E;return{c(){e=y("p"),t=y("span"),n=le("svg"),r=le("path"),l=U(),o=ae(s[9]),i=y("span"),c=ae(f),v=y("span"),v.textContent=b,N=U(),d=y("span"),k=y("input"),M=U(),H=le("svg"),J=le("path"),this.h()},l(j){e=T(j,"P",{class:!0});var u=S(e);t=T(u,"SPAN",{class:!0});var P=S(t);n=re(P,"svg",{class:!0,xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0});var V=S(n);r=re(V,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),S(r).forEach(g),V.forEach(g),l=R(P),o=ie(P,s[9]),i=T(P,"SPAN",{class:!0});var q=S(i);c=ie(q,f),q.forEach(g),v=T(P,"SPAN",{class:!0,"data-svelte-h":!0}),se(v)!=="svelte-tnmy4k"&&(v.textContent=b),P.forEach(g),N=R(u),d=T(u,"SPAN",{class:!0});var A=S(d);k=T(A,"INPUT",{type:!0,name:!0,class:!0,style:!0}),M=R(A),H=re(A,"svg",{class:!0,xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0});var I=S(H);J=re(I,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),S(J).forEach(g),I.forEach(g),A.forEach(g),u.forEach(g),this.h()},h(){var j;a(r,"stroke-linecap","round"),a(r,"stroke-linejoin","round"),a(r,"d","M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"),a(n,"class","icon-add svelte-xvko6k"),a(n,"xmlns","http://www.w3.org/2000/svg"),a(n,"fill","none"),a(n,"viewBox","0 0 24 24"),a(n,"stroke-width","1.5"),a(n,"stroke","currentColor"),a(i,"class",h="param-unit "+(s[3]?"":"empty")+" svelte-xvko6k"),a(v,"class","param-colon svelte-xvko6k"),a(t,"class","param-name svelte-xvko6k"),a(k,"type",_=nt[s[2]]==="number"?"number":"text"),a(k,"name",s[2]),a(k,"class","param-val svelte-xvko6k"),k.readOnly=m=s[2]==="type",k.value=s[6],a(k,"style",w=`width: ${typeof s[0]<"u"?(j=s[6])==null?void 0:j.toString().length:"4"}ch;`),a(J,"stroke-linecap","round"),a(J,"stroke-linejoin","round"),a(J,"d","M6 18 18 6M6 6l12 12"),a(H,"class",Z="icon-close "+(s[1]&&!s[4]?"active":"")+" svelte-xvko6k"),a(H,"xmlns","http://www.w3.org/2000/svg"),a(H,"fill","none"),a(H,"viewBox","0 0 24 24"),a(H,"stroke-width","1.5"),a(H,"stroke","currentColor"),a(d,"class","param-val-outer svelte-xvko6k"),a(e,"class",z="main-prop-cont "+(s[7]?"undef-cont":"def-cont")+" "+(s[1]?"active":"")+" "+(s[8]?"hover":"")+" svelte-xvko6k")},m(j,u){F(j,e,u),p(e,t),p(t,n),p(n,r),p(t,l),p(t,o),p(t,i),p(i,c),p(t,v),p(e,N),p(e,d),p(d,k),p(d,M),p(d,H),p(H,J),D||(E=[L(t,"click",s[10]),L(k,"input",s[12]),L(k,"focus",s[14]),L(k,"focusout",s[15]),L(H,"click",s[16]),L(e,"mouseenter",s[17]),L(e,"mouseleave",s[18])],D=!0)},p(j,[u]){var P;u&8&&f!==(f=j[3]?`(${j[3]})`:"")&&Te(c,f),u&8&&h!==(h="param-unit "+(j[3]?"":"empty")+" svelte-xvko6k")&&a(i,"class",h),u&4&&_!==(_=nt[j[2]]==="number"?"number":"text")&&a(k,"type",_),u&4&&a(k,"name",j[2]),u&4&&m!==(m=j[2]==="type")&&(k.readOnly=m),u&64&&k.value!==j[6]&&(k.value=j[6]),u&65&&w!==(w=`width: ${typeof j[0]<"u"?(P=j[6])==null?void 0:P.toString().length:"4"}ch;`)&&a(k,"style",w),u&18&&Z!==(Z="icon-close "+(j[1]&&!j[4]?"active":"")+" svelte-xvko6k")&&a(H,"class",Z),u&386&&z!==(z="main-prop-cont "+(j[7]?"undef-cont":"def-cont")+" "+(j[1]?"active":"")+" "+(j[8]?"hover":"")+" svelte-xvko6k")&&a(e,"class",z)},i:oe,o:oe,d(j){j&&g(e),D=!1,he(E)}}}function En(s,e,t){let{isEditing:n}=e,{paramName:r}=e,{paramValue:l}=e,{paramUnit:o}=e,{onChange:i}=e,{required:f=!1}=e;const c=D=>typeof D=="object"?JSON.stringify(D):D==null?void 0:D.toString();let h=Ut(r),v=c(l),b,N=!1;const d=()=>{b&&(r==="excitation"?t(0,l={type:"excitationValuesRpmPercentage",values:[[]]}):r==="parent"?t(0,l="Gear 1"):t(0,l=0),t(7,b=!1),i(r,l)),t(6,v=c(l))},k=()=>{t(0,l=void 0),t(7,b=!0),i(r,l)};let _=!1;const m=D=>{let E=D.target.value;/^-?\d+(\.\d+)?$/.test(E)&&Number(E)>1e7&&(E=w(Number(E)));const u=/['"\n]/g;!(E.startsWith("{")&&E.endsWith("}"))&&u.test(E)&&(E=E.replace(u,"")),i(r,E),t(6,v=E)},w=D=>{if(D===1/0)return"Infinity";const E=Math.floor(Math.log10(D)/3)*3;return`${D/Math.pow(10,E)}e+${E}`},M=()=>{t(5,_=!0)},H=()=>{t(5,_=!1)},J=()=>{k()},Z=()=>{t(8,N=!0)},z=()=>{t(8,N=!1)};return s.$$set=D=>{"isEditing"in D&&t(1,n=D.isEditing),"paramName"in D&&t(2,r=D.paramName),"paramValue"in D&&t(0,l=D.paramValue),"paramUnit"in D&&t(3,o=D.paramUnit),"onChange"in D&&t(13,i=D.onChange),"required"in D&&t(4,f=D.required)},s.$$.update=()=>{s.$$.dirty&1&&t(7,b=typeof l>"u"),s.$$.dirty&33&&!_&&l&&(/^-?\d+(\.\d+)?$/.test(l.toString())&&Number(l)>1e7?t(6,v=w(Number(l))):t(6,v=c(l)))},[l,n,r,o,f,_,v,b,N,h,d,k,m,i,M,H,J,Z,z]}class jn extends pe{constructor(e){super(),ge(this,e,En,bn,me,{isEditing:1,paramName:2,paramValue:0,paramUnit:3,onChange:13,required:4})}}function Et(s,e,t){const n=s.slice();return n[29]=e[t][0],n[30]=e[t][1],n}function jt(s){let e,t;return e=new jn({props:{paramName:s[29],paramValue:s[30],paramUnit:pt[s[29]],isEditing:s[2],required:s[0].required.includes(s[29]),onChange:s[11]}}),{c(){X(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,r){$(e,n,r),t=!0},p(n,r){const l={};r[0]&32&&(l.paramName=n[29]),r[0]&32&&(l.paramValue=n[30]),r[0]&32&&(l.paramUnit=pt[n[29]]),r[0]&4&&(l.isEditing=n[2]),r[0]&33&&(l.required=n[0].required.includes(n[29])),e.$set(l)},i(n){t||(W(e.$$.fragment,n),t=!0)},o(n){Y(e.$$.fragment,n),t=!1},d(n){x(e,n)}}}function Ct(s){let e,t,n=s[29]!="name"&&jt(s);return{c(){n&&n.c(),e=Ae()},l(r){n&&n.l(r),e=Ae()},m(r,l){n&&n.m(r,l),F(r,e,l),t=!0},p(r,l){r[29]!="name"?n?(n.p(r,l),l[0]&32&&W(n,1)):(n=jt(r),n.c(),W(n,1),n.m(e.parentNode,e)):n&&(Ze(),Y(n,1,1,()=>{n=null}),Ge())},i(r){t||(W(n),t=!0)},o(r){Y(n),t=!1},d(r){r&&g(e),n&&n.d(r)}}}function Cn(s){let e,t,n,r,l,o,i,f,c,h,v,b,N,d,k,_,m,w,M,H,J,Z,z,D,E,j=_e(Object.entries(s[5])),u=[];for(let V=0;V<j.length;V+=1)u[V]=Ct(Et(s,j,V));const P=V=>Y(u[V],1,1,()=>{u[V]=null});return{c(){e=y("div"),t=y("div"),n=y("input"),o=U(),i=y("span"),f=U(),c=le("svg"),h=le("path"),b=U(),N=y("span"),d=ae("Name has to be unique and non-empty."),_=U(),m=y("div");for(let V=0;V<u.length;V+=1)u[V].c();w=U(),M=y("button"),H=ae("Done"),this.h()},l(V){e=T(V,"DIV",{class:!0,style:!0});var q=S(e);t=T(q,"DIV",{class:!0});var A=S(t);n=T(A,"INPUT",{type:!0,name:!0,class:!0}),o=R(A),i=T(A,"SPAN",{class:!0}),S(i).forEach(g),f=R(A),c=re(A,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var I=S(c);h=re(I,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),S(h).forEach(g),I.forEach(g),A.forEach(g),b=R(q),N=T(q,"SPAN",{class:!0});var O=S(N);d=ie(O,"Name has to be unique and non-empty."),O.forEach(g),_=R(q),m=T(q,"DIV",{class:!0});var C=S(m);for(let ee=0;ee<u.length;ee+=1)u[ee].l(C);C.forEach(g),w=R(q),M=T(q,"BUTTON",{class:!0,style:!0});var G=S(M);H=ie(G,"Done"),G.forEach(g),q.forEach(g),this.h()},h(){a(n,"type","text"),a(n,"name","element-name"),n.value=r=s[5].name,a(n,"class",l="main-name-field "+(s[6]?"name-error":"")+" svelte-lase41"),a(i,"class","hidden-span svelte-lase41"),a(h,"stroke-linecap","round"),a(h,"stroke-linejoin","round"),a(h,"d","m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"),a(c,"xmlns","http://www.w3.org/2000/svg"),a(c,"fill","none"),a(c,"viewBox","0 0 24 24"),a(c,"stroke-width","1.5"),a(c,"stroke","currentColor"),a(c,"class","size-6 svelte-lase41"),a(t,"class",v="name-cont "+(s[2]?"editing":"")+" svelte-lase41"),a(N,"class",k="name-error-info "+(s[6]?"active":"")+" svelte-lase41"),a(m,"class","params-cont svelte-lase41"),a(M,"class","close-btn svelte-lase41"),ye(M,"display",s[2]?"block":"none"),a(e,"class",J="main-layover-cont "+(s[8]?"active":"")+" svelte-lase41"),a(e,"style",Z=`top: ${s[4]}px;
                left: ${s[3]}px;
                border: ${s[2]?"solid 1px var(--main-color)":"solid 1px rgba(0, 0, 0, 0.06)"};
                transform: translate(${s[9][0]},${s[9][1]});
            `)},m(V,q){F(V,e,q),p(e,t),p(t,n),s[19](n),p(t,o),p(t,i),p(t,f),p(t,c),p(c,h),p(e,b),p(e,N),p(N,d),p(e,_),p(e,m);for(let A=0;A<u.length;A+=1)u[A]&&u[A].m(m,null);p(e,w),p(e,M),p(M,H),z=!0,D||(E=[L(n,"input",s[12]),L(c,"click",s[10]),L(M,"click",s[20]),L(e,"mouseenter",s[21]),L(e,"mouseleave",s[22])],D=!0)},p(V,q){if((!z||q[0]&32&&r!==(r=V[5].name)&&n.value!==r)&&(n.value=r),(!z||q[0]&64&&l!==(l="main-name-field "+(V[6]?"name-error":"")+" svelte-lase41"))&&a(n,"class",l),(!z||q[0]&4&&v!==(v="name-cont "+(V[2]?"editing":"")+" svelte-lase41"))&&a(t,"class",v),(!z||q[0]&64&&k!==(k="name-error-info "+(V[6]?"active":"")+" svelte-lase41"))&&a(N,"class",k),q[0]&2085){j=_e(Object.entries(V[5]));let A;for(A=0;A<j.length;A+=1){const I=Et(V,j,A);u[A]?(u[A].p(I,q),W(u[A],1)):(u[A]=Ct(I),u[A].c(),W(u[A],1),u[A].m(m,null))}for(Ze(),A=j.length;A<u.length;A+=1)P(A);Ge()}(!z||q[0]&4)&&ye(M,"display",V[2]?"block":"none"),(!z||q[0]&256&&J!==(J="main-layover-cont "+(V[8]?"active":"")+" svelte-lase41"))&&a(e,"class",J),(!z||q[0]&540&&Z!==(Z=`top: ${V[4]}px;
                left: ${V[3]}px;
                border: ${V[2]?"solid 1px var(--main-color)":"solid 1px rgba(0, 0, 0, 0.06)"};
                transform: translate(${V[9][0]},${V[9][1]});
            `))&&a(e,"style",Z)},i(V){if(!z){for(let q=0;q<j.length;q+=1)W(u[q]);z=!0}},o(V){u=u.filter(Boolean);for(let q=0;q<u.length;q+=1)Y(u[q]);z=!1},d(V){V&&g(e),s[19](null),ze(u,V),D=!1,he(E)}}}function Nn(s){let e,t;return e=new mn({props:{target:"body",$$slots:{default:[Cn]},$$scope:{ctx:s}}}),{c(){X(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,r){$(e,n,r),t=!0},p(n,r){const l={};r[0]&1023|r[1]&4&&(l.$$scope={dirty:r,ctx:n}),e.$set(l)},i(n){t||(W(e.$$.fragment,n),t=!0)},o(n){Y(e.$$.fragment,n),t=!1},d(n){x(e,n)}}}function Dn(s,e,t){let n,r,l;Oe(s,ot,I=>t(23,r=I)),Oe(s,fe,I=>t(24,l=I));let{params:o}=e,{possibleParams:i}=e;const f=()=>{t(8,_=!1),t(2,m=!1),fe.update(I=>{let O={...I};return O.json.elements=I.json.elements.filter(C=>C.name!==o.name),O})};let c;const h=(I,O)=>{const C=/^-?\d+(\.\d+)?([eE][+-]?\d+)?$/.test(O),G=typeof O=="string"&&O.startsWith("{")&&O.endsWith("}");try{let ee=G?JSON.parse(O):O;Bt(ee)&&(O=ee)}catch{}t(5,c={...c,[I]:C?Number(O):O})};let v=!1,b;const N=I=>{const O=/['"\n]/g;O.test(I.target.value)&&(I.target.value=I.target.value.replace(O,"")),l.json.elements.some(G=>G.name!==o.name&&G.name===I.target.value)||I.target.value===""?t(6,v=!0):t(6,v=!1),t(5,c.name=I.target.value,c),d()},d=()=>{const I=b.nextElementSibling;I.textContent=c.name,t(7,b.style.width=`${I.offsetWidth}px`,b)};let k=!1,_=!1,m=!1,w=0,M=0;const H=(I,O)=>{t(3,w=I),t(4,M=O),t(2,m=!0),setTimeout(()=>{d()},0)};let{nodeOnHover:J=!1}=e;const Z=()=>{if(t(2,m=!0),d(),ot){let[I,O]=Rt(l.json,"elements","name",o.name);r(I,O)}},z=I=>{m||(t(3,w=I.clientX),t(4,M=I.clientY))},D=["0","0"],E=()=>{m&&(v&&(t(5,c.name=o.name,c),t(7,b.value=o.name,b),t(6,v=!1)),m&&fe.update(I=>{let O={...I};return Object.entries(c).forEach(([C,G])=>{nt[C]==="number"&&G===""&&t(5,c[C]=0,c)}),O.json.elements=zt(I.json.elements,o.name,c,!0),O})),t(8,_=!1),t(2,m=!1),r(-1,-1)},j=I=>{k||J||E()},u=I=>{I.key==="Escape"&&E()};He(()=>{window.addEventListener("mousemove",z),document.addEventListener("pointerdown",j),document.addEventListener("dragstart",E),document.addEventListener("keydown",u);const I=document.querySelector(".svelte-flow__pane");return I&&I.addEventListener("wheel",E),()=>{window.removeEventListener("mousemove",z),document.removeEventListener("pointerdown",j),document.removeEventListener("dragstart",E),document.removeEventListener("keydown",u),I==null||I.removeEventListener("wheel",E)}});function P(I){ce[I?"unshift":"push"](()=>{b=I,t(7,b)})}const V=()=>{E()},q=()=>{t(1,k=!0)},A=()=>{t(1,k=!1)};return s.$$set=I=>{"params"in I&&t(14,o=I.params),"possibleParams"in I&&t(0,i=I.possibleParams),"nodeOnHover"in I&&t(16,J=I.nodeOnHover)},s.$$.update=()=>{s.$$.dirty[0]&16385&&t(18,n=i.optional.filter(I=>!(I in o)).reduce((I,O)=>(I[O]=void 0,I),{})),s.$$.dirty[0]&278528&&t(5,c={...o,...n}),s.$$.dirty[0]&65550&&t(8,_=w!==0&&(m||J||k)),s.$$.dirty[0]&8&&(w>window.innerWidth/2?t(9,D[0]="calc(-100% - 15px)",D):t(9,D[0]="15px",D)),s.$$.dirty[0]&16&&(M>window.innerHeight/2?t(9,D[1]="calc(-100% - 15px)",D):t(9,D[1]="15px",D))},[i,k,m,w,M,c,v,b,_,D,f,h,N,E,o,H,J,Z,n,P,V,q,A]}class st extends pe{constructor(e){super(),ge(this,e,Dn,Nn,me,{params:14,possibleParams:0,show:15,nodeOnHover:16,nodeClick:17},null,[-1,-1])}get show(){return this.$$.ctx[15]}get nodeClick(){return this.$$.ctx[17]}}function Nt(s){let e,t,n,r,l,o;return{c(){e=y("div"),t=le("svg"),n=le("path"),this.h()},l(i){e=T(i,"DIV",{class:!0});var f=S(e);t=re(f,"svg",{class:!0,xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0});var c=S(t);n=re(c,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),S(n).forEach(g),c.forEach(g),f.forEach(g),this.h()},h(){a(n,"stroke-linecap","round"),a(n,"stroke-linejoin","round"),a(n,"d","M12 4.5v15m7.5-7.5h-15"),a(t,"class","icon-add svelte-3hpcp0"),a(t,"xmlns","http://www.w3.org/2000/svg"),a(t,"fill","none"),a(t,"viewBox","0 0 24 24"),a(t,"stroke-width","1.5"),a(t,"stroke","currentColor"),a(e,"class",r="add-handle left "+(s[1]?"hover":"")+" "+(s[3]?"dragging":"")+" svelte-3hpcp0")},m(i,f){F(i,e,f),p(e,t),p(t,n),l||(o=[L(e,"dragover",s[8]),L(e,"drop",s[9])],l=!0)},p(i,f){f&10&&r!==(r="add-handle left "+(i[1]?"hover":"")+" "+(i[3]?"dragging":"")+" svelte-3hpcp0")&&a(e,"class",r)},d(i){i&&g(e),l=!1,he(o)}}}function yn(s){let e,t,n,r,l,o;return{c(){e=y("div"),t=le("svg"),n=le("path"),this.h()},l(i){e=T(i,"DIV",{class:!0});var f=S(e);t=re(f,"svg",{class:!0,xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0});var c=S(t);n=re(c,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),S(n).forEach(g),c.forEach(g),f.forEach(g),this.h()},h(){a(n,"stroke-linecap","round"),a(n,"stroke-linejoin","round"),a(n,"d","M12 4.5v15m7.5-7.5h-15"),a(t,"class","icon-add svelte-3hpcp0"),a(t,"xmlns","http://www.w3.org/2000/svg"),a(t,"fill","none"),a(t,"viewBox","0 0 24 24"),a(t,"stroke-width","1.5"),a(t,"stroke","currentColor"),a(e,"class",r="add-handle right "+(s[2]?"hover":"")+" "+(s[3]?"dragging":"")+" svelte-3hpcp0")},m(i,f){F(i,e,f),p(e,t),p(t,n),l||(o=[L(e,"dragover",s[10]),L(e,"drop",s[11])],l=!0)},p(i,f){f&12&&r!==(r="add-handle right "+(i[2]?"hover":"")+" "+(i[3]?"dragging":"")+" svelte-3hpcp0")&&a(e,"class",r)},d(i){i&&g(e),l=!1,he(o)}}}function Tn(s){let e,t,n=s[0]&&Nt(s),r=yn(s);return{c(){n&&n.c(),e=U(),r&&r.c(),t=Ae()},l(l){n&&n.l(l),e=R(l),r&&r.l(l),t=Ae()},m(l,o){n&&n.m(l,o),F(l,e,o),r&&r.m(l,o),F(l,t,o)},p(l,[o]){l[0]?n?n.p(l,o):(n=Nt(l),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),r.p(l,o)},i:oe,o:oe,d(l){l&&(g(e),g(t)),n&&n.d(l),r&&r.d(l)}}}function In(s,e,t){let n;Oe(s,fe,w=>t(7,n=w));let{elementName:r}=e,l=!1,o=!1,i=!1,f=!1,c;const h=(w,M)=>{w.preventDefault(),w.stopPropagation(),w.dataTransfer&&(w.dataTransfer.dropEffect="move"),clearTimeout(c),M==="left"?t(1,o=!0):t(2,i=!0),c=setTimeout(()=>{t(1,o=!1),t(2,i=!1)},200)},v=(w,M)=>{if(w.preventDefault(),w.stopPropagation(),!w.dataTransfer)return null;let H=w.dataTransfer.getData("application/svelteflow"),J;try{J=JSON.parse(H)}catch{return null}fe.update(Z=>{let z,D=Z.json.elements;J.event==="addNew"?z=Pt(Z.json.elements?Z.json.elements:[],J.element):J.event==="addExisting"&&(z=D.find(j=>j.name===J.element),D=D.filter(j=>j.name!==J.element));let E=D.findIndex(j=>j.name===r);return M==="right"&&(E=E+1),z?(D.splice(E,0,z),{...Z,json:{...Z.json,elements:D}}):(console.error("Element not found"),Z)})};let b;const N=()=>{clearTimeout(b),t(3,f=!0),b=setTimeout(()=>{t(3,f=!1)},100)};He(()=>{document.addEventListener("drag",N)}),qt(()=>{document.removeEventListener("drag",N)});const d=w=>h(w,"left"),k=w=>v(w,"left"),_=w=>h(w,"right"),m=w=>v(w,"right");return s.$$set=w=>{"elementName"in w&&t(6,r=w.elementName)},s.$$.update=()=>{s.$$.dirty&192&&n.json.elements&&n.json.elements.length>0&&t(0,l=n.json.elements[0].name===r)},[l,o,i,f,h,v,r,n,d,k,_,m]}class lt extends pe{constructor(e){super(),ge(this,e,In,Tn,me,{elementName:6})}}function Sn(s){let e,t,n,r,l=s[0].nodeNo+"",o,i,f,c,h,v,b,N,d={nodeOnHover:s[3],params:s[0].data,possibleParams:je.Disk};return f=new st({props:d}),s[6](f),h=new lt({props:{elementName:s[0].data.name}}),{c(){e=y("div"),t=y("div"),n=U(),r=y("p"),o=ae(l),i=U(),X(f.$$.fragment),c=U(),X(h.$$.fragment),this.h()},l(k){e=T(k,"DIV",{class:!0});var _=S(e);t=T(_,"DIV",{class:!0,draggable:!0}),S(t).forEach(g),n=R(_),r=T(_,"P",{class:!0});var m=S(r);o=ie(m,l),m.forEach(g),i=R(_),Q(f.$$.fragment,_),c=R(_),Q(h.$$.fragment,_),_.forEach(g),this.h()},h(){a(t,"class","disk svelte-1gu7y07"),a(t,"draggable",!0),a(r,"class","svelte-1gu7y07"),a(e,"class","disk-outer svelte-1gu7y07")},m(k,_){F(k,e,_),p(e,t),p(e,n),p(e,r),p(r,o),p(e,i),$(f,e,null),p(e,c),$(h,e,null),s[7](e),v=!0,b||(N=[L(t,"click",s[5]),L(t,"dragstart",s[4]),L(e,"mouseenter",s[8]),L(e,"mouseleave",s[9])],b=!0)},p(k,[_]){(!v||_&1)&&l!==(l=k[0].nodeNo+"")&&Te(o,l);const m={};_&8&&(m.nodeOnHover=k[3]),_&1&&(m.params=k[0].data),f.$set(m);const w={};_&1&&(w.elementName=k[0].data.name),h.$set(w)},i(k){v||(W(f.$$.fragment,k),W(h.$$.fragment,k),v=!0)},o(k){Y(f.$$.fragment,k),Y(h.$$.fragment,k),v=!1},d(k){k&&g(e),s[6](null),x(f),x(h),s[7](null),b=!1,he(N)}}}function Vn(s,e,t){const n=["data"];ke(e,n);let{data:r}=e,l,o,i=!1;const f=d=>{if(!d.dataTransfer)return null;t(3,i=!1);let k={event:"addExisting",element:r.data.name};d.dataTransfer.setData("application/svelteflow",JSON.stringify(k)),d.dataTransfer.effectAllowed="move"};Fe.listen("newElementPopup",d=>{d===r.data.name&&o&&o.show(l.getBoundingClientRect().left,l.getBoundingClientRect().top+60)});const c=()=>o?o.nodeClick():"";function h(d){ce[d?"unshift":"push"](()=>{o=d,t(2,o)})}function v(d){ce[d?"unshift":"push"](()=>{l=d,t(1,l)})}const b=()=>t(3,i=!0),N=()=>t(3,i=!1);return s.$$set=d=>{e=we(we({},e),Be(d)),t(10,ke(e,n)),"data"in d&&t(0,r=d.data)},[r,l,o,i,f,c,h,v,b,N]}class Hn extends pe{constructor(e){super(),ge(this,e,Vn,Sn,me,{data:0})}}function On(s){let e,t,n,r,l=s[0].nodeNo+"",o,i,f,c,h,v,b,N,d,k={nodeOnHover:s[3],params:s[0].data,possibleParams:je.ShaftDiscrete};return f=new st({props:k}),s[6](f),h=new lt({props:{elementName:s[0].data.name}}),{c(){e=y("div"),t=y("div"),n=U(),r=y("p"),o=ae(l),i=U(),X(f.$$.fragment),c=U(),X(h.$$.fragment),this.h()},l(_){e=T(_,"DIV",{class:!0,id:!0});var m=S(e);t=T(m,"DIV",{class:!0,draggable:!0}),S(t).forEach(g),n=R(m),r=T(m,"P",{class:!0});var w=S(r);o=ie(w,l),w.forEach(g),i=R(m),Q(f.$$.fragment,m),c=R(m),Q(h.$$.fragment,m),m.forEach(g),this.h()},h(){a(t,"class","shaft svelte-1m04w23"),a(t,"draggable",!0),a(r,"class","svelte-1m04w23"),a(e,"class","shaft-outer"),a(e,"id",v=s[0].data.name)},m(_,m){F(_,e,m),p(e,t),p(e,n),p(e,r),p(r,o),p(e,i),$(f,e,null),p(e,c),$(h,e,null),s[7](e),b=!0,N||(d=[L(t,"click",s[5]),L(t,"dragstart",s[4]),L(e,"mouseenter",s[8]),L(e,"mouseleave",s[9])],N=!0)},p(_,[m]){(!b||m&1)&&l!==(l=_[0].nodeNo+"")&&Te(o,l);const w={};m&8&&(w.nodeOnHover=_[3]),m&1&&(w.params=_[0].data),f.$set(w);const M={};m&1&&(M.elementName=_[0].data.name),h.$set(M),(!b||m&1&&v!==(v=_[0].data.name))&&a(e,"id",v)},i(_){b||(W(f.$$.fragment,_),W(h.$$.fragment,_),b=!0)},o(_){Y(f.$$.fragment,_),Y(h.$$.fragment,_),b=!1},d(_){_&&g(e),s[6](null),x(f),x(h),s[7](null),N=!1,he(d)}}}function Ln(s,e,t){const n=["data"];ke(e,n);let{data:r}=e,l,o,i=!1;const f=d=>{if(!d.dataTransfer)return null;t(3,i=!1);let k={event:"addExisting",element:r.data.name};d.dataTransfer.setData("application/svelteflow",JSON.stringify(k)),d.dataTransfer.effectAllowed="move"};Fe.listen("newElementPopup",d=>{d===r.data.name&&o&&o.show(l.getBoundingClientRect().left,l.getBoundingClientRect().top+60)});const c=()=>o?o.nodeClick():"";function h(d){ce[d?"unshift":"push"](()=>{o=d,t(2,o)})}function v(d){ce[d?"unshift":"push"](()=>{l=d,t(1,l)})}const b=()=>t(3,i=!0),N=()=>t(3,i=!1);return s.$$set=d=>{e=we(we({},e),Be(d)),t(10,ke(e,n)),"data"in d&&t(0,r=d.data)},[r,l,o,i,f,c,h,v,b,N]}class Mn extends pe{constructor(e){super(),ge(this,e,Ln,On,me,{data:0})}}function An(s){let e,t,n,r,l=s[0].nodeNo+"",o,i,f,c,h,v,b,N,d={nodeOnHover:s[3],params:s[0].data,possibleParams:je.ShaftContinuous};return f=new st({props:d}),s[6](f),h=new lt({props:{elementName:s[0].data.name}}),{c(){e=y("div"),t=y("div"),n=U(),r=y("p"),o=ae(l),i=U(),X(f.$$.fragment),c=U(),X(h.$$.fragment),this.h()},l(k){e=T(k,"DIV",{class:!0});var _=S(e);t=T(_,"DIV",{class:!0,draggable:!0}),S(t).forEach(g),n=R(_),r=T(_,"P",{class:!0});var m=S(r);o=ie(m,l),m.forEach(g),i=R(_),Q(f.$$.fragment,_),c=R(_),Q(h.$$.fragment,_),_.forEach(g),this.h()},h(){a(t,"class","shaft svelte-1dol8lj"),a(t,"draggable",!0),a(r,"class","svelte-1dol8lj"),a(e,"class","shaft-outer")},m(k,_){F(k,e,_),p(e,t),p(e,n),p(e,r),p(r,o),p(e,i),$(f,e,null),p(e,c),$(h,e,null),s[7](e),v=!0,b||(N=[L(t,"click",s[5]),L(t,"dragstart",s[4]),L(e,"mouseenter",s[8]),L(e,"mouseleave",s[9])],b=!0)},p(k,[_]){(!v||_&1)&&l!==(l=k[0].nodeNo+"")&&Te(o,l);const m={};_&8&&(m.nodeOnHover=k[3]),_&1&&(m.params=k[0].data),f.$set(m);const w={};_&1&&(w.elementName=k[0].data.name),h.$set(w)},i(k){v||(W(f.$$.fragment,k),W(h.$$.fragment,k),v=!0)},o(k){Y(f.$$.fragment,k),Y(h.$$.fragment,k),v=!1},d(k){k&&g(e),s[6](null),x(f),x(h),s[7](null),b=!1,he(N)}}}function Bn(s,e,t){const n=["data"];ke(e,n);let{data:r}=e,l,o,i=!1;const f=d=>{if(!d.dataTransfer)return null;t(3,i=!1);let k={event:"addExisting",element:r.data.name};d.dataTransfer.setData("application/svelteflow",JSON.stringify(k)),d.dataTransfer.effectAllowed="move"};Fe.listen("newElementPopup",d=>{d===r.data.name&&o&&o.show(l.getBoundingClientRect().left,l.getBoundingClientRect().top+60)});const c=()=>o?o.nodeClick():"";function h(d){ce[d?"unshift":"push"](()=>{o=d,t(2,o)})}function v(d){ce[d?"unshift":"push"](()=>{l=d,t(1,l)})}const b=()=>t(3,i=!0),N=()=>t(3,i=!1);return s.$$set=d=>{e=we(we({},e),Be(d)),t(10,ke(e,n)),"data"in d&&t(0,r=d.data)},[r,l,o,i,f,c,h,v,b,N]}class Pn extends pe{constructor(e){super(),ge(this,e,Bn,An,me,{data:0})}}function qn(s){let e,t,n='<div class="gear-inner svelte-12yc0pz"></div>',r,l,o=s[0].nodeNo+"",i,f,c,h,v,b,N,d,k={nodeOnHover:s[3],params:s[0].data,possibleParams:je.GearElement};return c=new st({props:k}),s[6](c),v=new lt({props:{elementName:s[0].data.name}}),{c(){e=y("div"),t=y("div"),t.innerHTML=n,r=U(),l=y("p"),i=ae(o),f=U(),X(c.$$.fragment),h=U(),X(v.$$.fragment),this.h()},l(_){e=T(_,"DIV",{class:!0});var m=S(e);t=T(m,"DIV",{class:!0,draggable:!0,"data-svelte-h":!0}),se(t)!=="svelte-1ijx6q8"&&(t.innerHTML=n),r=R(m),l=T(m,"P",{class:!0});var w=S(l);i=ie(w,o),w.forEach(g),f=R(m),Q(c.$$.fragment,m),h=R(m),Q(v.$$.fragment,m),m.forEach(g),this.h()},h(){a(t,"class","gear svelte-12yc0pz"),a(t,"draggable",!0),a(l,"class","svelte-12yc0pz"),a(e,"class","gear-outer")},m(_,m){F(_,e,m),p(e,t),p(e,r),p(e,l),p(l,i),p(e,f),$(c,e,null),p(e,h),$(v,e,null),s[7](e),b=!0,N||(d=[L(t,"click",s[5]),L(t,"dragstart",s[4]),L(e,"mouseenter",s[8]),L(e,"mouseleave",s[9])],N=!0)},p(_,[m]){(!b||m&1)&&o!==(o=_[0].nodeNo+"")&&Te(i,o);const w={};m&8&&(w.nodeOnHover=_[3]),m&1&&(w.params=_[0].data),c.$set(w);const M={};m&1&&(M.elementName=_[0].data.name),v.$set(M)},i(_){b||(W(c.$$.fragment,_),W(v.$$.fragment,_),b=!0)},o(_){Y(c.$$.fragment,_),Y(v.$$.fragment,_),b=!1},d(_){_&&g(e),s[6](null),x(c),x(v),s[7](null),N=!1,he(d)}}}function Jn(s,e,t){const n=["data"];ke(e,n);let r,l,{data:o}=e,i=!1;const f=d=>{if(!d.dataTransfer)return null;t(3,i=!1);let k={event:"addExisting",element:o.data.name};d.dataTransfer.setData("application/svelteflow",JSON.stringify(k)),d.dataTransfer.effectAllowed="move"};Fe.listen("newElementPopup",d=>{d===o.data.name&&l&&l.show(r.getBoundingClientRect().left,r.getBoundingClientRect().top+60)});const c=()=>l?l.nodeClick():"";function h(d){ce[d?"unshift":"push"](()=>{l=d,t(2,l)})}function v(d){ce[d?"unshift":"push"](()=>{r=d,t(1,r)})}const b=()=>t(3,i=!0),N=()=>t(3,i=!1);return s.$$set=d=>{e=we(we({},e),Be(d)),t(10,ke(e,n)),"data"in d&&t(0,o=d.data)},[o,r,l,i,f,c,h,v,b,N]}class Un extends pe{constructor(e){super(),ge(this,e,Jn,qn,me,{data:0})}}function Rn(s){let e,t="",n=`${s[0]+60}px`;return{c(){e=y("div"),e.innerHTML=t,this.h()},l(r){e=T(r,"DIV",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-1r7tdrq"&&(e.innerHTML=t),this.h()},h(){a(e,"class","gearbox svelte-11dpvtd"),ye(e,"height",n)},m(r,l){F(r,e,l)},p(r,[l]){l&1&&n!==(n=`${r[0]+60}px`)&&ye(e,"height",n)},i:oe,o:oe,d(r){r&&g(e)}}}function zn(s,e,t){const n=["data","height"];ke(e,n);let{data:r}=e,{height:l=r.height}=e;return s.$$set=o=>{e=we(we({},e),Be(o)),t(2,ke(e,n)),"data"in o&&t(1,r=o.data),"height"in o&&t(0,l=o.height)},s.$$.update=()=>{s.$$.dirty&2&&r&&t(0,l=r.height)},[l,r]}class Zn extends pe{constructor(e){super(),ge(this,e,zn,Rn,me,{data:1,height:0})}}function Gn(s){let e,t,n,r;return e=new nn({}),n=new sn({props:{bgColor:"rgb(245,245,245)",variant:ln.Dots,gap:28}}),{c(){X(e.$$.fragment),t=U(),X(n.$$.fragment)},l(l){Q(e.$$.fragment,l),t=R(l),Q(n.$$.fragment,l)},m(l,o){$(e,l,o),F(l,t,o),$(n,l,o),r=!0},p:oe,i(l){r||(W(e.$$.fragment,l),W(n.$$.fragment,l),r=!0)},o(l){Y(e.$$.fragment,l),Y(n.$$.fragment,l),r=!1},d(l){l&&g(t),x(e,l),x(n,l)}}}function Fn(s){let e,t;return e=new en({props:{nodes:s[1],edges:s[2],nodeTypes:s[0],deleteKey:null,fitView:!0,$$slots:{default:[Gn]},$$scope:{ctx:s}}}),e.$on("dragover",s[3]),e.$on("drop",s[4]),{c(){X(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,r){$(e,n,r),t=!0},p(n,[r]){const l={};r&64&&(l.$$scope={dirty:r,ctx:n}),e.$set(l)},i(n){t||(W(e.$$.fragment,n),t=!0)},o(n){Y(e.$$.fragment,n),t=!1},d(n){x(e,n)}}}function Wn(s){const{fitView:e}=tn(),t={Disk:Hn,ShaftDiscrete:Mn,ShaftContinuous:Pn,GearElement:Un,Gearbox:Zn,Empty:wn},n=at([{id:"1",type:"Empty",dragHandle:".none",data:{label:"Node"},position:{x:0,y:150}}]),r=at([]);return fe.subscribe(i=>{n.update(f=>Zt()),setTimeout(()=>{e()},10)}),[t,n,r,i=>{i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="move")},i=>{if(i.preventDefault(),!i.dataTransfer)return null;const f=i.dataTransfer.getData("application/svelteflow");let c;try{c=JSON.parse(f)}catch{return null}c.event==="addNew"&&fe.update(h=>{const v={...h},b=Pt(h.json.elements?h.json.elements:[],c.element);return v.json.elements=[...h.json.elements,b],setTimeout(()=>{Fe.dispatch("newElementPopup",b.name)},200),v})}]}class Kn extends pe{constructor(e){super(),ge(this,e,Wn,Fn,me,{})}}function Yn(s){let e,t,n;return{c(){e=ae(`Add to Component\r
                        `),t=le("svg"),n=le("path"),this.h()},l(r){e=ie(r,`Add to Component\r
                        `),t=re(r,"svg",{class:!0,xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0});var l=S(t);n=re(l,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),S(n).forEach(g),l.forEach(g),this.h()},h(){a(n,"stroke-linecap","round"),a(n,"stroke-linejoin","round"),a(n,"d","m8.25 4.5 7.5 7.5-7.5 7.5"),a(t,"class","icon-chevron svelte-1vol1sh"),a(t,"xmlns","http://www.w3.org/2000/svg"),a(t,"fill","none"),a(t,"viewBox","0 0 24 24"),a(t,"stroke-width","1.5"),a(t,"stroke","currentColor")},m(r,l){F(r,e,l),F(r,t,l),p(t,n)},p:oe,d(r){r&&(g(e),g(t))}}}function Xn(s){let e,t,n;return{c(){e=ae(`Add to Component\r
                        `),t=le("svg"),n=le("path"),this.h()},l(r){e=ie(r,`Add to Component\r
                        `),t=re(r,"svg",{class:!0,xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0});var l=S(t);n=re(l,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),S(n).forEach(g),l.forEach(g),this.h()},h(){a(n,"stroke-linecap","round"),a(n,"stroke-linejoin","round"),a(n,"d","m8.25 4.5 7.5 7.5-7.5 7.5"),a(t,"class","icon-chevron svelte-1vol1sh"),a(t,"xmlns","http://www.w3.org/2000/svg"),a(t,"fill","none"),a(t,"viewBox","0 0 24 24"),a(t,"stroke-width","1.5"),a(t,"stroke","currentColor")},m(r,l){F(r,e,l),F(r,t,l),p(t,n)},p:oe,d(r){r&&(g(e),g(t))}}}function Qn(s){let e,t,n;return{c(){e=ae(`Add to Component\r
                        `),t=le("svg"),n=le("path"),this.h()},l(r){e=ie(r,`Add to Component\r
                        `),t=re(r,"svg",{class:!0,xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0});var l=S(t);n=re(l,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),S(n).forEach(g),l.forEach(g),this.h()},h(){a(n,"stroke-linecap","round"),a(n,"stroke-linejoin","round"),a(n,"d","m8.25 4.5 7.5 7.5-7.5 7.5"),a(t,"class","icon-chevron svelte-1vol1sh"),a(t,"xmlns","http://www.w3.org/2000/svg"),a(t,"fill","none"),a(t,"viewBox","0 0 24 24"),a(t,"stroke-width","1.5"),a(t,"stroke","currentColor")},m(r,l){F(r,e,l),F(r,t,l),p(t,n)},p:oe,d(r){r&&(g(e),g(t))}}}function $n(s){let e,t,n;return{c(){e=ae(`Add to Component\r
                        `),t=le("svg"),n=le("path"),this.h()},l(r){e=ie(r,`Add to Component\r
                        `),t=re(r,"svg",{class:!0,xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0});var l=S(t);n=re(l,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),S(n).forEach(g),l.forEach(g),this.h()},h(){a(n,"stroke-linecap","round"),a(n,"stroke-linejoin","round"),a(n,"d","m8.25 4.5 7.5 7.5-7.5 7.5"),a(t,"class","icon-chevron svelte-1vol1sh"),a(t,"xmlns","http://www.w3.org/2000/svg"),a(t,"fill","none"),a(t,"viewBox","0 0 24 24"),a(t,"stroke-width","1.5"),a(t,"stroke","currentColor")},m(r,l){F(r,e,l),F(r,t,l),p(t,n)},p:oe,d(r){r&&(g(e),g(t))}}}function xn(s){let e,t,n='<h3 class="svelte-1vol1sh">Elements:</h3>',r,l,o,i,f='<div class="disk svelte-1vol1sh"></div>',c,h,v,b='<h4 class="svelte-1vol1sh">Disk</h4> <p class="svelte-1vol1sh">Disk</p>',N,d,k,_,m,w,M='<div class="gear svelte-1vol1sh"></div>',H,J,Z,z='<h4 class="svelte-1vol1sh">Gear</h4> <p class="svelte-1vol1sh">GearElement</p>',D,E,j,u,P,V,q='<div class="shaft svelte-1vol1sh"></div>',A,I,O,C='<h4 class="svelte-1vol1sh">Shaft <span class="light-txt svelte-1vol1sh">(Discrete)</span></h4> <p class="svelte-1vol1sh">ShaftDiscrete</p>',G,ee,K,ue,te,ve,Le='<div class="shaft continuous svelte-1vol1sh"></div>',Pe,be,B,Ne='<h4 class="svelte-1vol1sh">Shaft <span class="light-txt svelte-1vol1sh">(Continuous)</span></h4> <p class="svelte-1vol1sh">ShaftContinuous</p>',Me,qe,Ie,We,rt,ft;return k=new Re({props:{onClick:s[1],color:"var(--main-dark-color)",icon:`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 16.875h3.375m0 0h3.375m-3.375 0V13.5m0 3.375v3.375M6 10.5h2.25a2.25 2.25 0 0 0 2.25-2.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v2.25A2.25 2.25 0 0 0 6 10.5Zm0 9.75h2.25A2.25 2.25 0 0 0 10.5 18v-2.25a2.25 2.25 0 0 0-2.25-2.25H6a2.25 2.25 0 0 0-2.25 2.25V18A2.25 2.25 0 0 0 6 20.25Zm9.75-9.75H18a2.25 2.25 0 0 0 2.25-2.25V6A2.25 2.25 0 0 0 18 3.75h-2.25A2.25 2.25 0 0 0 13.5 6v2.25a2.25 2.25 0 0 0 2.25 2.25Z" />
                            </svg> `,$$slots:{default:[Yn]},$$scope:{ctx:s}}}),j=new Re({props:{onClick:s[3],color:"var(--main-dark-color)",icon:`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 16.875h3.375m0 0h3.375m-3.375 0V13.5m0 3.375v3.375M6 10.5h2.25a2.25 2.25 0 0 0 2.25-2.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v2.25A2.25 2.25 0 0 0 6 10.5Zm0 9.75h2.25A2.25 2.25 0 0 0 10.5 18v-2.25a2.25 2.25 0 0 0-2.25-2.25H6a2.25 2.25 0 0 0-2.25 2.25V18A2.25 2.25 0 0 0 6 20.25Zm9.75-9.75H18a2.25 2.25 0 0 0 2.25-2.25V6A2.25 2.25 0 0 0 18 3.75h-2.25A2.25 2.25 0 0 0 13.5 6v2.25a2.25 2.25 0 0 0 2.25 2.25Z" />
                            </svg> `,$$slots:{default:[Xn]},$$scope:{ctx:s}}}),K=new Re({props:{onClick:s[5],color:"var(--main-dark-color)",icon:`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 16.875h3.375m0 0h3.375m-3.375 0V13.5m0 3.375v3.375M6 10.5h2.25a2.25 2.25 0 0 0 2.25-2.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v2.25A2.25 2.25 0 0 0 6 10.5Zm0 9.75h2.25A2.25 2.25 0 0 0 10.5 18v-2.25a2.25 2.25 0 0 0-2.25-2.25H6a2.25 2.25 0 0 0-2.25 2.25V18A2.25 2.25 0 0 0 6 20.25Zm9.75-9.75H18a2.25 2.25 0 0 0 2.25-2.25V6A2.25 2.25 0 0 0 18 3.75h-2.25A2.25 2.25 0 0 0 13.5 6v2.25a2.25 2.25 0 0 0 2.25 2.25Z" />
                            </svg> `,$$slots:{default:[Qn]},$$scope:{ctx:s}}}),Ie=new Re({props:{onClick:s[7],color:"var(--main-dark-color)",icon:`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 16.875h3.375m0 0h3.375m-3.375 0V13.5m0 3.375v3.375M6 10.5h2.25a2.25 2.25 0 0 0 2.25-2.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v2.25A2.25 2.25 0 0 0 6 10.5Zm0 9.75h2.25A2.25 2.25 0 0 0 10.5 18v-2.25a2.25 2.25 0 0 0-2.25-2.25H6a2.25 2.25 0 0 0-2.25 2.25V18A2.25 2.25 0 0 0 6 20.25Zm9.75-9.75H18a2.25 2.25 0 0 0 2.25-2.25V6A2.25 2.25 0 0 0 18 3.75h-2.25A2.25 2.25 0 0 0 13.5 6v2.25a2.25 2.25 0 0 0 2.25 2.25Z" />
                            </svg> `,$$slots:{default:[$n]},$$scope:{ctx:s}}}),{c(){e=y("div"),t=y("div"),t.innerHTML=n,r=U(),l=y("div"),o=y("div"),i=y("div"),i.innerHTML=f,c=U(),h=y("div"),v=y("div"),v.innerHTML=b,N=U(),d=y("div"),X(k.$$.fragment),_=U(),m=y("div"),w=y("div"),w.innerHTML=M,H=U(),J=y("div"),Z=y("div"),Z.innerHTML=z,D=U(),E=y("div"),X(j.$$.fragment),u=U(),P=y("div"),V=y("div"),V.innerHTML=q,A=U(),I=y("div"),O=y("div"),O.innerHTML=C,G=U(),ee=y("div"),X(K.$$.fragment),ue=U(),te=y("div"),ve=y("div"),ve.innerHTML=Le,Pe=U(),be=y("div"),B=y("div"),B.innerHTML=Ne,Me=U(),qe=y("div"),X(Ie.$$.fragment),this.h()},l(ne){e=T(ne,"DIV",{class:!0});var de=S(e);t=T(de,"DIV",{class:!0,"data-svelte-h":!0}),se(t)!=="svelte-1dk26ly"&&(t.innerHTML=n),r=R(de),l=T(de,"DIV",{class:!0});var Ee=S(l);o=T(Ee,"DIV",{class:!0,draggable:!0});var Se=S(o);i=T(Se,"DIV",{class:!0,"data-svelte-h":!0}),se(i)!=="svelte-1ybaov7"&&(i.innerHTML=f),c=R(Se),h=T(Se,"DIV",{class:!0});var Ve=S(h);v=T(Ve,"DIV",{"data-svelte-h":!0}),se(v)!=="svelte-amc2m0"&&(v.innerHTML=b),N=R(Ve),d=T(Ve,"DIV",{});var Je=S(d);Q(k.$$.fragment,Je),Je.forEach(g),Ve.forEach(g),Se.forEach(g),_=R(Ee),m=T(Ee,"DIV",{class:!0,draggable:!0});var Ke=S(m);w=T(Ke,"DIV",{class:!0,"data-svelte-h":!0}),se(w)!=="svelte-3rh2sp"&&(w.innerHTML=M),H=R(Ke),J=T(Ke,"DIV",{class:!0});var Ye=S(J);Z=T(Ye,"DIV",{"data-svelte-h":!0}),se(Z)!=="svelte-rfv7h8"&&(Z.innerHTML=z),D=R(Ye),E=T(Ye,"DIV",{});var dt=S(E);Q(j.$$.fragment,dt),dt.forEach(g),Ye.forEach(g),Ke.forEach(g),u=R(Ee),P=T(Ee,"DIV",{class:!0,draggable:!0});var Xe=S(P);V=T(Xe,"DIV",{class:!0,"data-svelte-h":!0}),se(V)!=="svelte-hhqae2"&&(V.innerHTML=q),A=R(Xe),I=T(Xe,"DIV",{class:!0});var Qe=S(I);O=T(Qe,"DIV",{"data-svelte-h":!0}),se(O)!=="svelte-hhnwtk"&&(O.innerHTML=C),G=R(Qe),ee=T(Qe,"DIV",{});var mt=S(ee);Q(K.$$.fragment,mt),mt.forEach(g),Qe.forEach(g),Xe.forEach(g),ue=R(Ee),te=T(Ee,"DIV",{class:!0,draggable:!0});var $e=S(te);ve=T($e,"DIV",{class:!0,"data-svelte-h":!0}),se(ve)!=="svelte-yq9b0t"&&(ve.innerHTML=Le),Pe=R($e),be=T($e,"DIV",{class:!0});var xe=S(be);B=T(xe,"DIV",{"data-svelte-h":!0}),se(B)!=="svelte-1i7cqo8"&&(B.innerHTML=Ne),Me=R(xe),qe=T(xe,"DIV",{});var ht=S(qe);Q(Ie.$$.fragment,ht),ht.forEach(g),xe.forEach(g),$e.forEach(g),Ee.forEach(g),de.forEach(g),this.h()},h(){a(t,"class","element-upper svelte-1vol1sh"),a(i,"class","main-illustration-cont svelte-1vol1sh"),a(h,"class","element-info svelte-1vol1sh"),a(o,"class","element-list-item svelte-1vol1sh"),a(o,"draggable",!0),a(w,"class","main-illustration-cont svelte-1vol1sh"),a(J,"class","element-info svelte-1vol1sh"),a(m,"class","element-list-item svelte-1vol1sh"),a(m,"draggable",!0),a(V,"class","main-illustration-cont svelte-1vol1sh"),a(I,"class","element-info svelte-1vol1sh"),a(P,"class","element-list-item svelte-1vol1sh"),a(P,"draggable",!0),a(ve,"class","main-illustration-cont svelte-1vol1sh"),a(be,"class","element-info svelte-1vol1sh"),a(te,"class","element-list-item svelte-1vol1sh"),a(te,"draggable",!0),a(l,"class","element-list svelte-1vol1sh"),a(e,"class","element-cont svelte-1vol1sh")},m(ne,de){F(ne,e,de),p(e,t),p(e,r),p(e,l),p(l,o),p(o,i),p(o,c),p(o,h),p(h,v),p(h,N),p(h,d),$(k,d,null),p(l,_),p(l,m),p(m,w),p(m,H),p(m,J),p(J,Z),p(J,D),p(J,E),$(j,E,null),p(l,u),p(l,P),p(P,V),p(P,A),p(P,I),p(I,O),p(I,G),p(I,ee),$(K,ee,null),p(l,ue),p(l,te),p(te,ve),p(te,Pe),p(te,be),p(be,B),p(be,Me),p(be,qe),$(Ie,qe,null),We=!0,rt||(ft=[L(o,"dragstart",s[2]),L(o,"dragover",es),L(o,"drop",ts),L(m,"dragstart",s[4]),L(m,"dragover",ns),L(m,"drop",ss),L(P,"dragstart",s[6]),L(P,"dragover",ls),L(P,"drop",rs),L(te,"dragstart",s[8]),L(te,"dragover",os),L(te,"drop",as)],rt=!0)},p(ne,[de]){const Ee={};de&512&&(Ee.$$scope={dirty:de,ctx:ne}),k.$set(Ee);const Se={};de&512&&(Se.$$scope={dirty:de,ctx:ne}),j.$set(Se);const Ve={};de&512&&(Ve.$$scope={dirty:de,ctx:ne}),K.$set(Ve);const Je={};de&512&&(Je.$$scope={dirty:de,ctx:ne}),Ie.$set(Je)},i(ne){We||(W(k.$$.fragment,ne),W(j.$$.fragment,ne),W(K.$$.fragment,ne),W(Ie.$$.fragment,ne),We=!0)},o(ne){Y(k.$$.fragment,ne),Y(j.$$.fragment,ne),Y(K.$$.fragment,ne),Y(Ie.$$.fragment,ne),We=!1},d(ne){ne&&g(e),x(k),x(j),x(K),x(Ie),rt=!1,he(ft)}}}const es=s=>{s.preventDefault()},ts=s=>{s.preventDefault()},ns=s=>{s.preventDefault()},ss=s=>{s.preventDefault()},ls=s=>{s.preventDefault()},rs=s=>{s.preventDefault()},os=s=>{s.preventDefault()},as=s=>{s.preventDefault()};function is(s){const e=(h,v)=>{if(!h.dataTransfer)return null;let b={event:"addNew",element:v};h.dataTransfer.setData("application/svelteflow",JSON.stringify(b)),h.dataTransfer.effectAllowed="move"};return[e,()=>Ue("Disk"),h=>e(h,"Disk"),()=>Ue("GearElement"),h=>e(h,"GearElement"),()=>Ue("ShaftDiscrete"),h=>e(h,"ShaftDiscrete"),()=>Ue("ShaftContinuous"),h=>e(h,"ShaftContinuous")]}class us extends pe{constructor(e){super(),ge(this,e,is,xn,me,{})}}function cs(s){let e,t;return{c(){e=y("span"),t=ae(s[1]),this.h()},l(n){e=T(n,"SPAN",{class:!0});var r=S(e);t=ie(r,s[1]),r.forEach(g),this.h()},h(){a(e,"class","no-edit svelte-1g3afqd")},m(n,r){F(n,e,r),p(e,t)},p(n,r){r&2&&Te(t,n[1])},d(n){n&&g(e)}}}function fs(s){let e;function t(l,o){return l[2]==="number"?ms:ds}let n=t(s),r=n(s);return{c(){r.c(),e=Ae()},l(l){r.l(l),e=Ae()},m(l,o){r.m(l,o),F(l,e,o)},p(l,o){n===(n=t(l))&&r?r.p(l,o):(r.d(1),r=n(l),r&&(r.c(),r.m(e.parentNode,e)))},d(l){l&&g(e),r.d(l)}}}function ds(s){let e,t,n,r;return{c(){e=y("input"),this.h()},l(l){e=T(l,"INPUT",{class:!0,type:!0}),this.h()},h(){a(e,"class",t=Ce(s[3]?"error":"")+" svelte-1g3afqd"),a(e,"type","text")},m(l,o){F(l,e,o),tt(e,s[1]),n||(r=[L(e,"input",s[11]),L(e,"input",s[5]),L(e,"blur",s[6])],n=!0)},p(l,o){o&8&&t!==(t=Ce(l[3]?"error":"")+" svelte-1g3afqd")&&a(e,"class",t),o&2&&e.value!==l[1]&&tt(e,l[1])},d(l){l&&g(e),n=!1,he(r)}}}function ms(s){let e,t,n,r;return{c(){e=y("input"),this.h()},l(l){e=T(l,"INPUT",{class:!0,type:!0}),this.h()},h(){a(e,"class",t=Ce(s[3]?"error":"")+" svelte-1g3afqd"),a(e,"type","number")},m(l,o){F(l,e,o),tt(e,s[1]),n||(r=[L(e,"input",s[10]),L(e,"input",s[5]),L(e,"blur",s[6])],n=!0)},p(l,o){o&8&&t!==(t=Ce(l[3]?"error":"")+" svelte-1g3afqd")&&a(e,"class",t),o&2&&At(e.value)!==l[1]&&tt(e,l[1])},d(l){l&&g(e),n=!1,he(r)}}}function hs(s){let e,t,n;function r(i,f){return i[0]?fs:cs}let l=r(s),o=l(s);return{c(){e=y("td"),t=y("div"),o.c(),this.h()},l(i){e=T(i,"TD",{class:!0});var f=S(e);t=T(f,"DIV",{class:!0,style:!0});var c=S(t);o.l(c),c.forEach(g),f.forEach(g),this.h()},h(){a(t,"class","cell-inner svelte-1g3afqd"),a(t,"style",n=`min-width: ${s[4](s[1]).length*8.5+(s[2]==="number"?35:16)}px;`),a(e,"class","svelte-1g3afqd")},m(i,f){F(i,e,f),p(e,t),o.m(t,null)},p(i,[f]){l===(l=r(i))&&o?o.p(i,f):(o.d(1),o=l(i),o&&(o.c(),o.m(t,null))),f&6&&n!==(n=`min-width: ${i[4](i[1]).length*8.5+(i[2]==="number"?35:16)}px;`)&&a(t,"style",n)},i:oe,o:oe,d(i){i&&g(e),o.d()}}}function ps(s,e,t){let n;Oe(s,fe,m=>t(12,n=m));let{editable:r=!1}=e,{element:l}=e,{param:o}=e,{required:i=!0}=e;const f=m=>m==null?"":o==="excitation"?JSON.stringify(m):m.toString();let c,h;fe.subscribe(m=>{const w=m.json.elements.find(M=>M.name===l);w&&(t(1,c=typeof w[o]<"u"?f(w[o]):""),t(2,h=c&&nt[o]==="number"?"number":"text"))});const v=()=>{let m;h==="number"?m=Number(c):o==="excitation"?m=JSON.parse(c):m=c,fe.update(w=>{const M=w.json.elements.findIndex(H=>H.name===l);return w.json.elements[M]={...w.json.elements[M],[o]:m},w})};let b=!1;const N=()=>{if(c===""||c===null)if(i){t(3,b=!0);return}else{t(3,b=!1),fe.update(m=>{const w=m.json.elements.findIndex(M=>M.name===l);return delete m.json.elements[w][o],m});return}if(o==="name"){c!=l&&n.json.elements.some(m=>m.name===c)?t(3,b=!0):t(3,b=!1);return}else if(o==="excitation"){try{const m=JSON.parse(c);Bt(m)?t(3,b=!1):t(3,b=!0)}catch{t(3,b=!0)}return}v(),t(3,b=!1)},d=()=>{if(o==="name"&&!b){v();return}else if(o==="excitation"&&!b){v();return}const m=n.json.elements.findIndex(M=>M.name===l),w=n.json.elements[m][o];t(1,c=typeof w<"u"?f(w):""),t(3,b=!1)};function k(){c=At(this.value),t(1,c)}function _(){c=this.value,t(1,c)}return s.$$set=m=>{"editable"in m&&t(0,r=m.editable),"element"in m&&t(7,l=m.element),"param"in m&&t(8,o=m.param),"required"in m&&t(9,i=m.required)},[r,c,h,b,f,N,d,l,o,i,k,_]}class it extends pe{constructor(e){super(),ge(this,e,ps,hs,me,{editable:0,element:7,param:8,required:9})}}function Dt(s,e,t){const n=s.slice();return n[24]=e[t],n}function yt(s,e,t){const n=s.slice();return n[27]=e[t],n}function Tt(s,e,t){const n=s.slice();return n[30]=e[t],n}function It(s,e,t){const n=s.slice();return n[30]=e[t],n}function St(s){let e,t=s[30]+"",n;return{c(){e=y("th"),n=ae(t),this.h()},l(r){e=T(r,"TH",{class:!0});var l=S(e);n=ie(l,t),l.forEach(g),this.h()},h(){a(e,"class","svelte-6iwjog")},m(r,l){F(r,e,l),p(e,n)},p(r,l){l[0]&4&&t!==(t=r[30]+"")&&Te(n,t)},d(r){r&&g(e)}}}function Vt(s){var n,r;let e,t;return e=new it({props:{editable:(n=s[3][s[27].type])==null?void 0:n.includes(s[30]),element:s[27].name,param:s[30],required:(r=je[s[27].type])==null?void 0:r.required.includes(s[30])}}),{c(){X(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,o){$(e,l,o),t=!0},p(l,o){var f,c;const i={};o[0]&13&&(i.editable=(f=l[3][l[27].type])==null?void 0:f.includes(l[30])),o[0]&1&&(i.element=l[27].name),o[0]&4&&(i.param=l[30]),o[0]&5&&(i.required=(c=je[l[27].type])==null?void 0:c.required.includes(l[30])),e.$set(i)},i(l){t||(W(e.$$.fragment,l),t=!0)},o(l){Y(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Ht(s,e){let t,n,r=e[1][e[27].name]+"",l,o,i,f,c,h,v,b,N,d,k='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6 svelte-6iwjog"><path stroke-linecap="round" stroke-linejoin="round" d="M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"></path></svg>',_,m,w='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6 svelte-6iwjog"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"></path></svg>',M,H,J='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6 svelte-6iwjog"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12"></path></svg>',Z,z,D,E;i=new it({props:{editable:!0,element:e[27].name,param:"name"}}),c=new it({props:{editable:!1,element:e[27].name,param:"type"}});let j=_e(e[2].slice(3)),u=[];for(let O=0;O<j.length;O+=1)u[O]=Vt(Tt(e,j,O));const P=O=>Y(u[O],1,1,()=>{u[O]=null});function V(){return e[13](e[27])}function q(){return e[14](e[27])}function A(){return e[15](e[27])}function I(){return e[16](e[27])}return{key:s,first:null,c(){t=y("tr"),n=y("td"),l=ae(r),o=U(),X(i.$$.fragment),f=U(),X(c.$$.fragment),h=U();for(let O=0;O<u.length;O+=1)u[O].c();v=U(),b=y("div"),N=y("div"),d=y("button"),d.innerHTML=k,_=U(),m=y("button"),m.innerHTML=w,M=U(),H=y("button"),H.innerHTML=J,this.h()},l(O){t=T(O,"TR",{class:!0});var C=S(t);n=T(C,"TD",{class:!0});var G=S(n);l=ie(G,r),G.forEach(g),o=R(C),Q(i.$$.fragment,C),f=R(C),Q(c.$$.fragment,C),h=R(C);for(let ue=0;ue<u.length;ue+=1)u[ue].l(C);v=R(C),b=T(C,"DIV",{class:!0});var ee=S(b);N=T(ee,"DIV",{class:!0});var K=S(N);d=T(K,"BUTTON",{class:!0,"data-svelte-h":!0}),se(d)!=="svelte-1oqzp1y"&&(d.innerHTML=k),_=R(K),m=T(K,"BUTTON",{class:!0,"data-svelte-h":!0}),se(m)!=="svelte-18dyj9i"&&(m.innerHTML=w),M=R(K),H=T(K,"BUTTON",{class:!0,"data-svelte-h":!0}),se(H)!=="svelte-sqnf6b"&&(H.innerHTML=J),K.forEach(g),ee.forEach(g),C.forEach(g),this.h()},h(){a(n,"class","nodeNo svelte-6iwjog"),a(d,"class","btn-action svelte-6iwjog"),a(m,"class","btn-action svelte-6iwjog"),a(H,"class","btn-action rm svelte-6iwjog"),a(N,"class","action-inner svelte-6iwjog"),a(b,"class","action-cont svelte-6iwjog"),a(t,"class",Z=Ce(e[7]===e[27].name?"hover":"")+" svelte-6iwjog"),this.first=t},m(O,C){F(O,t,C),p(t,n),p(n,l),p(t,o),$(i,t,null),p(t,f),$(c,t,null),p(t,h);for(let G=0;G<u.length;G+=1)u[G]&&u[G].m(t,null);p(t,v),p(t,b),p(b,N),p(N,d),p(N,_),p(N,m),p(N,M),p(N,H),z=!0,D||(E=[L(d,"click",V),L(m,"click",q),L(H,"click",A),L(t,"mouseenter",I)],D=!0)},p(O,C){e=O,(!z||C[0]&3)&&r!==(r=e[1][e[27].name]+"")&&Te(l,r);const G={};C[0]&1&&(G.element=e[27].name),i.$set(G);const ee={};if(C[0]&1&&(ee.element=e[27].name),c.$set(ee),C[0]&13){j=_e(e[2].slice(3));let K;for(K=0;K<j.length;K+=1){const ue=Tt(e,j,K);u[K]?(u[K].p(ue,C),W(u[K],1)):(u[K]=Vt(ue),u[K].c(),W(u[K],1),u[K].m(t,v))}for(Ze(),K=j.length;K<u.length;K+=1)P(K);Ge()}(!z||C[0]&129&&Z!==(Z=Ce(e[7]===e[27].name?"hover":"")+" svelte-6iwjog"))&&a(t,"class",Z)},i(O){if(!z){W(i.$$.fragment,O),W(c.$$.fragment,O);for(let C=0;C<j.length;C+=1)W(u[C]);z=!0}},o(O){Y(i.$$.fragment,O),Y(c.$$.fragment,O),u=u.filter(Boolean);for(let C=0;C<u.length;C+=1)Y(u[C]);z=!1},d(O){O&&g(t),x(i),x(c),ze(u,O),D=!1,he(E)}}}function Ot(s){let e,t=s[24]+"",n,r,l,o;function i(){return s[17](s[24])}return{c(){e=y("button"),n=ae(t),r=U(),this.h()},l(f){e=T(f,"BUTTON",{class:!0});var c=S(e);n=ie(c,t),r=R(c),c.forEach(g),this.h()},h(){a(e,"class","svelte-6iwjog")},m(f,c){F(f,e,c),p(e,n),p(e,r),l||(o=L(e,"click",i),l=!0)},p(f,c){s=f},d(f){f&&g(e),l=!1,o()}}}function gs(s){let e,t,n,r,l=[],o=new Map,i,f,c,h,v,b,N,d,k,_,m,w,M=_e(s[2]),H=[];for(let E=0;E<M.length;E+=1)H[E]=St(It(s,M,E));let J=_e(s[0]);const Z=E=>E[27].name;for(let E=0;E<J.length;E+=1){let j=yt(s,J,E),u=Z(j);o.set(u,l[E]=Ht(u,j))}let z=_e(Object.keys(je)),D=[];for(let E=0;E<z.length;E+=1)D[E]=Ot(Dt(s,z,E));return{c(){e=y("div"),t=y("table"),n=y("tr");for(let E=0;E<H.length;E+=1)H[E].c();r=U();for(let E=0;E<l.length;E+=1)l[E].c();i=U(),f=y("tr"),c=y("td"),h=y("button"),v=le("svg"),b=le("path"),N=ae(`                  \r
                    Add Element\r
                    `),d=y("div");for(let E=0;E<D.length;E+=1)D[E].c();this.h()},l(E){e=T(E,"DIV",{class:!0});var j=S(e);t=T(j,"TABLE",{class:!0});var u=S(t);n=T(u,"TR",{class:!0});var P=S(n);for(let C=0;C<H.length;C+=1)H[C].l(P);P.forEach(g),r=R(u);for(let C=0;C<l.length;C+=1)l[C].l(u);i=R(u),f=T(u,"TR",{class:!0});var V=S(f);c=T(V,"TD",{class:!0,colspan:!0});var q=S(c);h=T(q,"BUTTON",{class:!0});var A=S(h);v=re(A,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var I=S(v);b=re(I,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),S(b).forEach(g),I.forEach(g),N=ie(A,`                  \r
                    Add Element\r
                    `),d=T(A,"DIV",{class:!0});var O=S(d);for(let C=0;C<D.length;C+=1)D[C].l(O);O.forEach(g),A.forEach(g),q.forEach(g),V.forEach(g),u.forEach(g),j.forEach(g),this.h()},h(){a(n,"class","svelte-6iwjog"),a(b,"stroke-linecap","round"),a(b,"stroke-linejoin","round"),a(b,"d","M12 4.5v15m7.5-7.5h-15"),a(v,"xmlns","http://www.w3.org/2000/svg"),a(v,"fill","none"),a(v,"viewBox","0 0 24 24"),a(v,"stroke-width","1.5"),a(v,"stroke","currentColor"),a(v,"class","size-6 svelte-6iwjog"),a(d,"class",k=Ce(`add-layover
                            ${s[5]?"open":""}
                            ${s[0].length<2?"down":""}`)+" svelte-6iwjog"),a(h,"class","add-inside svelte-6iwjog"),a(c,"class","cell-add svelte-6iwjog"),a(c,"colspan","8"),a(f,"class","row-add svelte-6iwjog"),a(t,"class","main-table-editor svelte-6iwjog"),a(e,"class","table-outer svelte-6iwjog")},m(E,j){F(E,e,j),p(e,t),p(t,n);for(let u=0;u<H.length;u+=1)H[u]&&H[u].m(n,null);p(t,r);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(t,null);p(t,i),p(t,f),p(f,c),p(c,h),p(h,v),p(v,b),p(h,N),p(h,d);for(let u=0;u<D.length;u+=1)D[u]&&D[u].m(d,null);s[18](h),s[22](e),_=!0,m||(w=[L(n,"mouseenter",s[12]),L(h,"click",s[19]),L(f,"mouseenter",s[20]),L(t,"mouseleave",s[21]),L(t,"pointermove",s[8])],m=!0)},p(E,j){if(j[0]&4){M=_e(E[2]);let u;for(u=0;u<M.length;u+=1){const P=It(E,M,u);H[u]?H[u].p(P,j):(H[u]=St(P),H[u].c(),H[u].m(n,null))}for(;u<H.length;u+=1)H[u].d(1);H.length=M.length}if(j[0]&3727&&(J=_e(E[0]),Ze(),l=fn(l,j,Z,1,E,J,o,t,dn,Ht,i,yt),Ge()),j&0){z=_e(Object.keys(je));let u;for(u=0;u<z.length;u+=1){const P=Dt(E,z,u);D[u]?D[u].p(P,j):(D[u]=Ot(P),D[u].c(),D[u].m(d,null))}for(;u<D.length;u+=1)D[u].d(1);D.length=z.length}(!_||j[0]&33&&k!==(k=Ce(`add-layover
                            ${E[5]?"open":""}
                            ${E[0].length<2?"down":""}`)+" svelte-6iwjog"))&&a(d,"class",k)},i(E){if(!_){for(let j=0;j<J.length;j+=1)W(l[j]);_=!0}},o(E){for(let j=0;j<l.length;j+=1)Y(l[j]);_=!1},d(E){E&&g(e),ze(H,E);for(let j=0;j<l.length;j+=1)l[j].d();ze(D,E),s[18](null),s[22](null),m=!1,he(w)}}}function vs(s,e,t){let n,r={},l=["node","name","type"];Object.values(je).forEach(u=>{l.push(...u.required)}),Object.values(je).forEach(u=>{l.push(...u.optional)}),l=[...new Set(l)];const o={};Object.entries(je).forEach(([u,P])=>{t(3,o[u]=[...P.required,...P.optional],o)}),fe.subscribe(u=>{t(0,n=u.json.elements),t(1,r=Gt(u.json.elements))});let i,f=!1,c,h=!1;const v=u=>{h&&(t(6,c.scrollTop-=u.movementY,c),t(6,c.scrollLeft-=u.movementX,c),t(5,f=!1))};let b=null;const N=u=>{fe.update(P=>(P.json.elements=P.json.elements.filter(V=>V.name!==u),P))},d=u=>{fe.update(P=>{let V=[...P.json.elements];const q=V.findIndex(I=>I.name===u);if(q===0)return P;const A=V[q];return V[q]=V[q-1],V[q-1]=A,{...P,json:{...P.json,elements:V}}})},k=u=>{fe.update(P=>{let V=[...P.json.elements];const q=V.findIndex(I=>I.name===u);if(q===V.length-1)return P;const A=V[q];return V[q]=V[q+1],V[q+1]=A,{...P,json:{...P.json,elements:V}}})};He(()=>{document.addEventListener("pointerdown",u=>{h=!0}),document.addEventListener("click",u=>{u.target!==i&&t(5,f=!1)}),document.addEventListener("dragstart",u=>{h=!1}),document.addEventListener("pointerup",()=>{h=!1}),document.addEventListener("keydown",u=>{u.key==="Escape"&&t(5,f=!1)})});const _=()=>t(7,b=null),m=u=>d(u.name),w=u=>k(u.name),M=u=>N(u.name),H=u=>t(7,b=u.name),J=u=>Ue(u);function Z(u){ce[u?"unshift":"push"](()=>{i=u,t(4,i)})}const z=()=>t(5,f=!0),D=()=>t(7,b=null),E=()=>t(7,b=null);function j(u){ce[u?"unshift":"push"](()=>{c=u,t(6,c)})}return[n,r,l,o,i,f,c,b,v,N,d,k,_,m,w,M,H,J,Z,z,D,E,j]}class _s extends pe{constructor(e){super(),ge(this,e,vs,gs,me,{},null,[-1,-1])}}function Lt(s,e,t){const n=s.slice();return n[3]=e[t],n}function Mt(s){let e,t=s[3]+"",n,r,l,o,i;function f(){return s[2](s[3])}return{c(){e=y("button"),n=ae(t),r=U(),this.h()},l(c){e=T(c,"BUTTON",{class:!0});var h=S(e);n=ie(h,t),r=R(h),h.forEach(g),this.h()},h(){a(e,"class",l=Ce(s[0]===s[3]?"selected":"")+" svelte-qv5ewv")},m(c,h){F(c,e,h),p(e,n),p(e,r),o||(i=L(e,"click",f),o=!0)},p(c,h){s=c,h&2&&t!==(t=s[3]+"")&&Te(n,t),h&3&&l!==(l=Ce(s[0]===s[3]?"selected":"")+" svelte-qv5ewv")&&a(e,"class",l)},d(c){c&&g(e),o=!1,i()}}}function ks(s){let e,t=_e(s[1]),n=[];for(let r=0;r<t.length;r+=1)n[r]=Mt(Lt(s,t,r));return{c(){e=y("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=T(r,"DIV",{class:!0});var l=S(e);for(let o=0;o<n.length;o+=1)n[o].l(l);l.forEach(g),this.h()},h(){a(e,"class","main-tab-cont svelte-qv5ewv")},m(r,l){F(r,e,l);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(r,[l]){if(l&3){t=_e(r[1]);let o;for(o=0;o<t.length;o+=1){const i=Lt(r,t,o);n[o]?n[o].p(i,l):(n[o]=Mt(i),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},i:oe,o:oe,d(r){r&&g(e),ze(n,r)}}}function ws(s,e,t){let{tabs:n}=e,{selectedTab:r=n[0]}=e;const l=o=>t(0,r=o);return s.$$set=o=>{"tabs"in o&&t(1,n=o.tabs),"selectedTab"in o&&t(0,r=o.selectedTab)},[r,n,l]}class bs extends pe{constructor(e){super(),ge(this,e,ws,ks,me,{tabs:1,selectedTab:0})}}function Es(s){let e,t,n={};return e=new Kn({props:n}),s[21](e),{c(){X(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,l){$(e,r,l),t=!0},p(r,l){const o={};e.$set(o)},i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){Y(e.$$.fragment,r),t=!1},d(r){s[21](null),x(e,r)}}}function js(s){let e,t,n;function r(o){s[26](o)}let l={onInput:s[24]};return s[9]!==void 0&&(l.textContent=s[9]),e=new cn({props:l}),s[25](e),ce.push(()=>ct(e,"textContent",r)),{c(){X(e.$$.fragment)},l(o){Q(e.$$.fragment,o)},m(o,i){$(e,o,i),n=!0},p(o,i){const f={};i[0]&144&&(f.onInput=o[24]),!t&&i[0]&512&&(t=!0,f.textContent=o[9],ut(()=>t=!1)),e.$set(f)},i(o){n||(W(e.$$.fragment,o),n=!0)},o(o){Y(e.$$.fragment,o),n=!1},d(o){s[25](null),x(e,o)}}}function Cs(s){let e,t;return e=new _s({}),{c(){X(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,r){$(e,n,r),t=!0},p:oe,i(n){t||(W(e.$$.fragment,n),t=!0)},o(n){Y(e.$$.fragment,n),t=!1},d(n){x(e,n)}}}function Ns(s){let e,t=`<svg class="icon-back svelte-jeio1p" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5 8.25 12l7.5-7.5"></path></svg>              
                Back`,n,r,l="Import",o,i,f,c,h="Analysis",v,b;return{c(){e=y("span"),e.innerHTML=t,n=U(),r=y("span"),r.textContent=l,o=U(),i=y("input"),f=U(),c=y("span"),c.textContent=h,this.h()},l(N){e=T(N,"SPAN",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-j1q8i7"&&(e.innerHTML=t),n=R(N),r=T(N,"SPAN",{class:!0,"data-svelte-h":!0}),se(r)!=="svelte-m0vxxq"&&(r.textContent=l),o=R(N),i=T(N,"INPUT",{type:!0,name:!0,accept:!0}),f=R(N),c=T(N,"SPAN",{class:!0,"data-svelte-h":!0}),se(c)!=="svelte-cm5riv"&&(c.textContent=h),this.h()},h(){a(e,"class","link-element svelte-jeio1p"),a(r,"class","link-element import-btn svelte-jeio1p"),a(i,"type","file"),a(i,"name","file"),a(i,"accept",".json"),ye(i,"display","none"),a(c,"class","link-element analysis-btn svelte-jeio1p")},m(N,d){F(N,e,d),F(N,n,d),F(N,r,d),F(N,o,d),F(N,i,d),s[34](i),F(N,f,d),F(N,c,d),v||(b=[L(e,"click",s[16]),L(r,"click",s[33]),L(i,"change",s[35]),L(c,"click",s[18])],v=!0)},p:oe,d(N){N&&(g(e),g(n),g(r),g(o),g(i),g(f),g(c)),s[34](null),v=!1,he(b)}}}function Ds(s){let e,t,n;function r(o){s[32](o)}let l={text:"Component",isError:s[3],onInput:s[31]};return s[5]!==void 0&&(l.value=s[5]),e=new an({props:l}),ce.push(()=>ct(e,"value",r)),{c(){X(e.$$.fragment)},l(o){Q(e.$$.fragment,o)},m(o,i){$(e,o,i),n=!0},p(o,i){const f={};i[0]&8&&(f.isError=o[3]),i[0]&136&&(f.onInput=o[31]),!t&&i[0]&32&&(t=!0,f.value=o[5],ut(()=>t=!1)),e.$set(f)},i(o){n||(W(e.$$.fragment,o),n=!0)},o(o){Y(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function ys(s){let e;return{c(){e=ae("Export")},l(t){e=ie(t,"Export")},m(t,n){F(t,e,n)},d(t){t&&g(e)}}}function Ts(s){let e;return{c(){e=ae("Save Component")},l(t){e=ie(t,"Save Component")},m(t,n){F(t,e,n)},d(t){t&&g(e)}}}function Is(s){let e,t,n,r;return e=new un({props:{isActive:!s[4],onClick:s[30],icon:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-6"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z" /></svg>',options:["Download JSON"],optionIcons:['<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6"><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3" /></svg>'],$$slots:{default:[ys]},$$scope:{ctx:s}}}),n=new Re({props:{onClick:s[15],isActive:!s[4],icon:'<svg class="icon-save" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m4.5 12.75 6 6 9-13.5" /></svg>',$$slots:{default:[Ts]},$$scope:{ctx:s}}}),{c(){X(e.$$.fragment),t=U(),X(n.$$.fragment)},l(l){Q(e.$$.fragment,l),t=R(l),Q(n.$$.fragment,l)},m(l,o){$(e,l,o),F(l,t,o),$(n,l,o),r=!0},p(l,o){const i={};o[0]&16&&(i.isActive=!l[4]),o[0]&16384&&(i.onClick=l[30]),o[1]&512&&(i.$$scope={dirty:o,ctx:l}),e.$set(i);const f={};o[0]&16&&(f.isActive=!l[4]),o[1]&512&&(f.$$scope={dirty:o,ctx:l}),n.$set(f)},i(l){r||(W(e.$$.fragment,l),W(n.$$.fragment,l),r=!0)},o(l){Y(e.$$.fragment,l),Y(n.$$.fragment,l),r=!1},d(l){l&&g(t),x(e,l),x(n,l)}}}function Ss(s){let e,t;return e=new us({}),{c(){X(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,r){$(e,n,r),t=!0},i(n){t||(W(e.$$.fragment,n),t=!0)},o(n){Y(e.$$.fragment,n),t=!1},d(n){x(e,n)}}}function Vs(s){let e,t,n,r,l,o,i,f,c,h,v,b="",N,d,k,_,m,w,M,H,J,Z,z,D,E,j,u;f=new rn({props:{$$slots:{default:[Es]},$$scope:{ctx:s}}});function P(C){s[23](C)}let V={tabs:["Table","JSON"]};s[1]!==void 0&&(V.selectedTab=s[1]),d=new bs({props:V}),ce.push(()=>ct(d,"selectedTab",P));const q=[Cs,js],A=[];function I(C,G){return C[1]==="Table"?0:1}m=I(s),w=A[m]=q[m](s),H=new on({props:{$$slots:{buttons:[Is],name:[Ds],links:[Ns]},$$scope:{ctx:s}}}),Z=new hn({props:{$$slots:{default:[Ss]},$$scope:{ctx:s}}});let O={};return D=new pn({props:O}),s[36](D),{c(){e=y("link"),t=y("link"),n=y("link"),r=U(),l=y("div"),o=y("div"),i=y("div"),X(f.$$.fragment),c=U(),h=y("div"),v=y("div"),v.innerHTML=b,N=U(),X(d.$$.fragment),_=U(),w.c(),M=U(),X(H.$$.fragment),J=U(),X(Z.$$.fragment),z=U(),X(D.$$.fragment),this.h()},l(C){const G=Jt("svelte-1wqx952",document.head);e=T(G,"LINK",{rel:!0,href:!0}),t=T(G,"LINK",{rel:!0,href:!0,crossorigin:!0}),n=T(G,"LINK",{href:!0,rel:!0}),G.forEach(g),r=R(C),l=T(C,"DIV",{class:!0});var ee=S(l);o=T(ee,"DIV",{class:!0,style:!0});var K=S(o);i=T(K,"DIV",{class:!0});var ue=S(i);Q(f.$$.fragment,ue),ue.forEach(g),c=R(K),h=T(K,"DIV",{class:!0});var te=S(h);v=T(te,"DIV",{class:!0,"data-svelte-h":!0}),se(v)!=="svelte-ifq5cp"&&(v.innerHTML=b),N=R(te),Q(d.$$.fragment,te),_=R(te),w.l(te),te.forEach(g),K.forEach(g),M=R(ee),Q(H.$$.fragment,ee),J=R(ee),Q(Z.$$.fragment,ee),ee.forEach(g),z=R(C),Q(D.$$.fragment,C),this.h()},h(){a(e,"rel","preconnect"),a(e,"href","https://fonts.googleapis.com"),a(t,"rel","preconnect"),a(t,"href","https://fonts.gstatic.com"),a(t,"crossorigin","true"),a(n,"href","https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap"),a(n,"rel","stylesheet"),document.title="Component Editor | OpenTorsion Editor",a(i,"class","flow-editor svelte-jeio1p"),a(v,"class","resize-slider svelte-jeio1p"),a(h,"class","json-editor svelte-jeio1p"),a(o,"class","main-editor-area svelte-jeio1p"),ye(o,"--json-editor-height",s[11]),ye(o,"--flow-editor-height",s[13]),a(l,"class","main-screen svelte-jeio1p")},m(C,G){p(document.head,e),p(document.head,t),p(document.head,n),F(C,r,G),F(C,l,G),p(l,o),p(o,i),$(f,i,null),p(o,c),p(o,h),p(h,v),p(h,N),$(d,h,null),p(h,_),A[m].m(h,null),s[27](h),p(l,M),$(H,l,null),p(l,J),$(Z,l,null),F(C,z,G),$(D,C,G),E=!0,j||(u=[L(v,"mousedown",s[22]),L(o,"mouseup",s[28]),L(o,"mousemove",s[29])],j=!0)},p(C,G){const ee={};G[0]&4|G[1]&512&&(ee.$$scope={dirty:G,ctx:C}),f.$set(ee);const K={};!k&&G[0]&2&&(k=!0,K.selectedTab=C[1],ut(()=>k=!1)),d.$set(K);let ue=m;m=I(C),m===ue?A[m].p(C,G):(Ze(),Y(A[ue],1,1,()=>{A[ue]=null}),Ge(),w=A[m],w?w.p(C,G):(w=A[m]=q[m](C),w.c()),W(w,1),w.m(h,null)),(!E||G[0]&2048)&&ye(o,"--json-editor-height",C[11]),(!E||G[0]&8192)&&ye(o,"--flow-editor-height",C[13]);const te={};G[0]&16569|G[1]&512&&(te.$$scope={dirty:G,ctx:C}),H.$set(te);const ve={};G[1]&512&&(ve.$$scope={dirty:G,ctx:C}),Z.$set(ve);const Le={};D.$set(Le)},i(C){E||(W(f.$$.fragment,C),W(d.$$.fragment,C),W(w),W(H.$$.fragment,C),W(Z.$$.fragment,C),W(D.$$.fragment,C),E=!0)},o(C){Y(f.$$.fragment,C),Y(d.$$.fragment,C),Y(w),Y(H.$$.fragment,C),Y(Z.$$.fragment,C),Y(D.$$.fragment,C),E=!1},d(C){C&&(g(r),g(l),g(z)),g(e),g(t),g(n),x(f),x(d),A[m].d(),s[27](null),x(H),x(Z),s[36](null),x(D,C),j=!1,he(u)}}}function Hs(s,e,t){var be;let n,r,l,o;Oe(s,fe,B=>t(14,r=B)),Oe(s,Kt,B=>t(37,l=B)),Oe(s,vt,B=>t(38,o=B));let i,f,c,h=!1,v=!1,b,N;He(()=>{ot.set(N.highlightLines),t(4,v=!_t(w,k))});let{data:d}=e,k,_;const m=()=>{let B;t(19,[d.componentId,B]=xt(),d),t(7,k=B.name)};d.componentId?r.id==d.componentId?k=r.json.name:Array.from(l.keys()).includes(d.componentId)?(Ft(d.componentId.split("-")[0]),k=(be=gt(d.componentId))==null?void 0:be.name,fe.set({id:d.componentId,json:gt(d.componentId)})):He(()=>{De("/")}):o.id?(m(),He(()=>{De(`/component-editor/${d.componentId}`,{replaceState:!0})})):(fe.set({id:"-1",json:{name:"New Component",elements:[]}}),He(()=>{_.openDialog("Do you want to create a new system to store your component?","Yes","Choose an existing system").then(B=>{if(B){let Ne,Me;[Me,Ne]=Yt(null,!0),vt.set({id:Me,json:Ne}),m(),De(`/component-editor/${d.componentId}`,{replaceState:!0})}else De("/")})}));let w="";fe.subscribe(B=>{et.set(null),t(9,w=JSON.stringify(B.json,null,2)),t(3,h=!1),t(5,b=B.json.name),t(4,v=!Wt(B.json.elements))});const M=()=>{kt(),et.set({message:"Component saved succesfully.",type:"success",duration:3e3}),De(`/system-editor/${r.id.split("-")[0]}`)},H=()=>{const B=r.id.split("-")[0];r.json.elements.length===0||wt.isEqual(r.json,l.get(r.id))?(bt(),et.set(null),De(`/system-editor/${B}`)):_.openDialog("You have unsaved changes. Do you want to discard them?","Discard changes","Cancel").then(Ne=>{Ne&&(bt(),De(`/system-editor/${B}`),et.set(null))})};let J,Z=220,z="",D=!1;const E=B=>{const Ne=J.getBoundingClientRect();t(20,Z=Ne.bottom-B.clientY+8)},j=()=>{v||(wt.isEqual(r.json,l.get(r.id))?De(`/analysis/${r.id}`):_.openDialog("You have unsaved changes. Do you want to save them before proceeding?","Save changes","Cancel").then(B=>{B&&(kt(),De(`/analysis/${r.id}`))}))};function u(B){ce[B?"unshift":"push"](()=>{c=B,t(2,c)})}const P=()=>{t(12,D=!0)};function V(B){f=B,t(1,f)}const q=B=>{t(4,v=!_t(B,k))};function A(B){ce[B?"unshift":"push"](()=>{N=B,t(6,N)})}function I(B){w=B,t(9,w)}function O(B){ce[B?"unshift":"push"](()=>{J=B,t(10,J)})}const C=()=>{t(12,D=!1)},G=B=>{D&&E(B)},ee=()=>Xt(r.json),K=B=>{t(3,h=!Qt(B,k))};function ue(B){b=B,t(5,b)}const te=()=>i.click();function ve(B){ce[B?"unshift":"push"](()=>{i=B,t(0,i)})}const Le=B=>$t(B,!1);function Pe(B){ce[B?"unshift":"push"](()=>{_=B,t(8,_)})}return s.$$set=B=>{"data"in B&&t(19,d=B.data)},s.$$.update=()=>{s.$$.dirty[0]&1048576&&t(11,z=`${Z}px`),s.$$.dirty[0]&1048576&&t(13,n=`calc(100% - ${Z}px)`)},[i,f,c,h,v,b,N,k,_,w,J,z,D,n,r,M,H,E,j,d,Z,u,P,V,q,A,I,O,C,G,ee,K,ue,te,ve,Le,Pe]}class Zs extends pe{constructor(e){super(),ge(this,e,Hs,Vs,me,{data:19},null,[-1,-1])}}export{Zs as component,zs as universal};
